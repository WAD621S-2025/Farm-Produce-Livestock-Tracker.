<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Management - Farm Produce Tracker</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1IDI3LjVDMjEuOTAzNiAyNy41IDI3LjUgMjEuOTAzNiAyNy41IDE1QzI3LjUgOC4wOTY0NCAyMS45MDM2IDIuNSAxNSAyLjVDOC4wOTY0NCAyLjUgMi41IDguMDk2NDQgMi41IDE1QzIuNSAyMS45MDM2IDguMDk2NDQgMjcuNSAxNSAyNy41WiIgc3Ryb2tlPSIjM2NhMzc1IiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTEwIDEySDE5TTEwIDE3SDE2TTEwIDIySDE0IiBzdHJva2U9IiMzY2EzNzUiIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4K" alt="Farm Logo">
                <span>FarmTracker</span>
            </div>
            <button class="menu-toggle">â˜°</button>
            <ul class="nav-menu">
                <li class="nav-item"><a href="dashboard.html" class="nav-link">Dashboard</a></li>
                <li class="nav-item"><a href="crops.html" class="nav-link">Crops</a></li>
                <li class="nav-item"><a href="livestock.html" class="nav-link">Livestock</a></li>
                <li class="nav-item"><a href="sales.html" class="nav-link active">Sales</a></li>
                <li class="nav-item"><a href="reports.html" class="nav-link">Reports</a></li>
                <li class="nav-item"><a href="#" class="nav-link" onclick="logout()">Logout</a></li>
            </ul>
        </div>
    </nav>

    <div class="page-content">
        <div class="container">
            <div class="dashboard-header">
                <h1>Sales Management</h1>
                <p>Track all your sales transactions and revenue</p>
                <button class="btn btn-primary" onclick="showAddSaleForm()">Record New Sale</button>
            </div>

            <!-- Sales Summary Cards -->
            <div class="dashboard-cards">
                <div class="dashboard-card">
                    <h3>Total Sales</h3>
                    <div class="value" id="totalSales">N$ 0</div>
                    <p>All time revenue</p>
                </div>
                <div class="dashboard-card">
                    <h3>This Month</h3>
                    <div class="value" id="monthlySales">N$ 0</div>
                    <p>Current month revenue</p>
                </div>
                <div class="dashboard-card">
                    <h3>Pending Payments</h3>
                    <div class="value" id="pendingSales">N$ 0</div>
                    <p>Awaiting payment</p>
                </div>
                <div class="dashboard-card">
                    <h3>Top Buyer</h3>
                    <div class="value" id="topBuyer">-</div>
                    <p>Most frequent customer</p>
                </div>
            </div>

            <!-- Add Sale Form -->
            <div id="addSaleForm" class="form-container" style="display: none; margin: 20px auto;">
                <h3>Record New Sale</h3>
                <form id="salesForm">
                    <div class="form-group">
                        <label for="itemType">Item Type</label>
                        <select id="itemType" name="itemType" required onchange="updateItemNames()">
                            <option value="">Select type</option>
                            <option value="crop">Crop</option>
                            <option value="livestock">Livestock</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="itemName">Item Name</label>
                        <select id="itemName" name="itemName" required>
                            <option value="">Select item</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="quantity">Quantity</label>
                        <input type="number" id="quantity" name="quantity" step="0.1" required placeholder="e.g., 100 kg, 5 animals">
                    </div>
                    <div class="form-group">
                        <label for="price">Price per Unit (N$)</label>
                        <input type="number" id="price" name="price" step="0.01" required placeholder="e.g., 8.50">
                    </div>
                    <div class="form-group">
                        <label for="buyer">Buyer Name</label>
                        <input type="text" id="buyer" name="buyer" required placeholder="e.g., Local Market, John Doe">
                    </div>
                    <div class="form-group">
                        <label for="saleDate">Sale Date</label>
                        <input type="date" id="saleDate" name="saleDate" required>
                    </div>
                    <div class="form-group">
                        <label for="paymentStatus">Payment Status</label>
                        <select id="paymentStatus" name="paymentStatus" required>
                            <option value="paid">Paid</option>
                            <option value="pending">Pending</option>
                            <option value="overdue">Overdue</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Record Sale</button>
                        <button type="button" class="btn btn-secondary" onclick="hideAddSaleForm()">Cancel</button>
                    </div>
                </form>
            </div>

            <!-- Sales Table -->
            <div class="data-table">
                <h3>Sales History</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Item Type</th>
                            <th>Item Name</th>
                            <th>Quantity</th>
                            <th>Price</th>
                            <th>Amount</th>
                            <th>Buyer</th>
                            <th>Payment Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="salesTable">
                        <!-- Sales data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Farm Produce Tracker. Empowering Namibian Farmers.</p>
        </div>
    </footer>

    <script src="js/scripts.js"></script>
</body>
                          </html>
